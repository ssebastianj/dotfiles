# shellcheck shell=bash

#### =========================== Functions ===================================

# Assume "zsh" shell by default
guessed_shell='zsh'

# Try to guess shell
guess_shell() {
    if [[ -n "${BASH_VERSION}" ]]; then
        # Assume shell is bash
        guessed_shell='bash'
    elif [[ -n "${ZSH_VERSION}" ]]; then
        # Assume shell is zsh
        guessed_shell='zsh'
   fi
}
guess_shell

is_bash_shell() {
    [[ "${guessed_shell}" == 'bash' ]]
}

is_zsh_shell() {
    [[ "${guessed_shell}" == 'zsh' ]]
}

#### ============================ ssebastianj ================================

#### Editor ------------------------------------------------------------------
export EDITOR="vim"

### Colors -------------------------------------------------------------------
# Colorize terminal
export LSCOLORS="ExGxBxDxCxEgEdxbxgxcxd"
export GREP_OPTIONS="--color=auto"

#### Aliases -----------------------------------------------------------------
# shellcheck source=/dev/null
[[ -s "${HOME}/.aliases" ]] && source "${HOME}/.aliases"

#### Root dir for development purposes ---------------------------------------
export PROJ_ROOT="${HOME}/development"

#### Python ------------------------------------------------
export PATH="${HOME}/.local/bin:${PATH}"
export WORKON_HOME="${PROJ_ROOT}/.virtualenvs"
export PYENV_ROOT="${HOME}/.pyenv"
export PATH="${PYENV_ROOT}/bin:${PATH}"

#### Django ------------------------------------------------------------------
DJANGO_COMPLETION_FILE="${PROJ_ROOT}/django/extras/django_bash_completion"

if [[ -s "${DJANGO_COMPLETION_FILE}" ]]; then
    is_zsh_shell && autoload -Uz bashcompinit && bashcompinit

    # shellcheck source=/dev/null
    source "${DJANGO_COMPLETION_FILE}"
fi

#### Git ---------------------------------------------------------------------
export PATH="${HOME}/.git-contrib:${PATH}"

#### Golang ------------------------------------------------------------------
export GOPATH="${PROJ_ROOT}/go"
export PATH="${GOPATH}/bin:${PATH}"

#### Rust --------------------------------------------------------------------
export RUSTUP_HOME="${HOME}/.rustup"
export CARGO_HOME="${HOME}/.cargo"
export PATH="${RUSTUP_HOME}/bin:${CARGO_HOME}/bin:${PATH}"

RUST_GIT_SRC_DIR="${PROJ_ROOT}/rust/src"
if [[ -d "${RUST_GIT_SRC_DIR}" ]]; then
    export RUST_SRC_PATH="${RUST_GIT_SRC_DIR}"
else
    RUST_SYSROOT="$(rustc --print sysroot)"
    export RUST_SRC_PATH="${RUST_SYSROOT}/lib/rustlib/src/rust/src"
fi

#### Pyenv ------------------------------------------------------------------
if command -v pyenv 1>/dev/null 2>&1; then
    eval "$(pyenv init -)"
fi

#### Node Version Manager ----------------------------------------------------
autoload -Uz nvm

### Incognito
autoload -Uz chrome-incognito
